<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>survey</title>

    <!-- Latest compiled and minified CSS -->
    <script   src="https://code.jquery.com/jquery-2.2.3.min.js"   integrity="sha256-a23g1Nt4dtEYOj7bR+vTu7+T8VP13humZFBJNIYoEJo="   crossorigin="anonymous"></script>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous">
    </script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous">
    </script>

    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/css/bootstrap-select.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/js/bootstrap-select.min.js"></script>
    <style>
            body{
                background-image: url("/image2");
                box-sizing: border-box;
                position: relative;
               width:100%;
               color: white;
                
            }
            #matchPhoto{
                width:200px;
                height:250px;
            }
        
            </style>



</head>

<body>
    <div class="container">
        <h3 class="text-left"><span class="fa fa-file-text"></span>Survey</h3>
        <hr>
        <h3 class="font-weight-bold">About You</h3>
        <form role="form" id="submitForm">
            <div class="form-group">
                <label for="reserve-name">Name(Required)</label>
                <input type="text" class="form-control" id="name">
            </div>
            <div class="form-group">
                <label for="reserve-name">Photo(Required)</label>
                <input type="text" class="form-control" id="photo">
            </div>
            <hr>
        </form>

        <!---q1-->
        <h5 class="font-weight-bold">Question 1</h5>
        <p>Your mind is always buzzing with unexplored ideas and plans.</p>
        <select class="selectpicker" data-live-search="true" id="question1">
            <option value="default" selected="selected">Select your option</option>
            <option value="1">1(strongly disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5(strongly agree)</option>
        </select>
        <br>
        <br>
        <br>
        <!---q2-->
        <h5 class="font-weight-bold">Question 2</h5>
        <p>Generally speaking, you rely more on your experience than your imagination.</p>
        <select class="selectpicker" data-live-search="true" id ="question2">
            <option value="default" selected="selected">Select your option</option>
            <option value="1">1(strongly disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5(strongly agree)</option>
        </select>
        <br>
        <br>
        <br>
        <!---q3-->
        <h5 class="font-weight-bold">Question 3</h5>
        <p>You find it easy to stay relaxed and focused even when there is some pressure.</p>
        <select class="selectpicker" data-live-search="true" id ="question3">
            <option value="default" selected="selected">Select your option</option>
            <option value="1">1(strongly disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5(strongly agree)</option>
        </select>
        <br>
        <br>
        <br>
        <!---q4-->
        <h5 class="font-weight-bold">Question 4</h5>
        <p>You rarely do something just out of sheer curiosity.</p>
        <select class="selectpicker" data-live-search="true" id ="question4">
            <option value="default" selected="selected">Select your option</option>
            <option value="1">1(strongly disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5(strongly agree)</option>
        </select>
        <br>
        <br>
        <br>

        <!---q5-->
        <h5 class="font-weight-bold">Question 5</h5>
        <p>People can rarely upset you.</p>
        <select class="selectpicker" data-live-search="true"  id ="question5">
            <option value="default" selected="selected">Select your option</option>
            <option value="1">1(strongly disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5(strongly agree)</option>
        </select>

        <div class="text-center">
                <button class="btn btn-lg btn-primary" id = "Submit" data-toggle="modal" data-target="#exampleModalCentered"><span class="fa fa-check-circle"></span> Submit </button></a>
                
              </div>
             
              <!-- Modal -->
<div class="modal" id="exampleModalCentered" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenteredLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalCenteredLabel">Model Title</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
             <div id ="matchName">
             </div>
           
             <img id ="matchPhoto">
            </img>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
              
            </div>
          </div>
        </div>
      </div>

    </div>

    <script type="text/javascript">
        $("#Submit").on("click", function(){
            console.log($("#name").val())  
            console.log($("#question1").val());  
            
            if( ($('#name').val().trim() !== "") && ($('#photo').val().trim() !== "") ) {
                   
            var newFriendList = 
               {
                name: $("#name").val(),
                photo: $("#photo").val(),
                scores:[$("#question1").val(),$("#question2").val(),$("#question3").val(),$("#question4").val(),$("#question5").val()]
                };
              console.log( newFriendList);
             
            $.post("/api/friends",newFriendList ,function(data){
            
                if(data){
                    console.log("Added successfully");
              
                $("#matchName").text(data.name);
                $("#matchPhoto").attr("src",data.photo);
                console.log(data.name);
                }
                else{
                    console.log("sorry friendlist is not added ")
                }
            
            // // clear data
             $("#name").val("");
            $("#photo").val("");
            $("#question1").val('default').selectpicker("refresh");
            $("#question2").val('default').selectpicker("refresh");
            $("#question3").val('default').selectpicker("refresh");
            $("#question4").val('default').selectpicker("refresh");
            $("#question5").val('default').selectpicker("refresh");
            });
            
        }
        else{
            $("#matchName").text("Please fill required field");
        }
            
        });
        
    </script>

</body>
</html>